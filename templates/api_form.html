{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}

<a class="btn btn-danger" href="{% url 'logout' %}" role="button">Logout</a>
<a class="btn btn-info" href="{% url 'khoj' %}" role="button">Khoj</a>
<br><br>
    <form method="get" action="{% url 'api' %}" autocomplete="off">
        <div class="form-group">
              <label for="{{ form.start_datetime.id_for_label }}" class="form-label mr-3">Start Date Time</label>
              <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                  {{ form.start_datetime }}
                  <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                  </div>
              </div>
        </div>
        <div class="form-group">
              <label for="{{ form.end_datetime.id_for_label }}" class="form-label mr-3">End Date Time</label>
              <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
                  {{ form.end_datetime }}
                  <div class="input-group-append" data-target="#datetimepicker2" data-toggle="datetimepicker">
                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                  </div>
              </div>
        </div>
        <div class="form-group">
              <label for="{{ form.user_id.id_for_label }}" class="form-label mr-3">User ID</label>
              <input type="text" class="form-control text-uppercase" placeholder="user id"
              value="{{ form.user_id.value|default:'' }}"
              id="{{ form.user_id.id_for_label }}"
              name="{{ form.user_id.html_name }}">
              {% if  form.user_id.errors %}
                <div class="text-danger form-input-error">{{ form.user_id.errors|join:"<br>" }}</div>
              {% endif %}
        </div>
        <button type="submit" class="btn btn-primary" >Search</button>
    </form>

    <br><br>

{% endblock %}
{% block javascript %}
  <script>
      $(function () {
        $("#datetimepicker1").datetimepicker({
            format: 'YYYY-MM-DD hh:mm:ss',
        });
        $("#datetimepicker2").datetimepicker({
            format: 'YYYY-MM-DD hh:mm:ss',
        });
      });
    </script>

{% endblock %}